%!TEX root = ./report.tex
\section{Solution}
\todo{mentioned only nats here, or maybe even earlier}
\subsection{Programming with Mutable State}
\label{sec:programming_with_mutable_state}
For our example mentioned in the introduction to be implementable in Imp, we need to introduce the idea of a mutable state. Originally the state in Imp is managed by a stack, which is a function from variables to values. We extend this state by adding a heap, which will provide us with a mapping between addresses and value. These values represent the mutable structures. As mentioned earlier our heap only handles natural numbers, and for the sake of simplicity, we will consider heaps to be infinite. We define heaps as a partially applied function from addresses ($nat$) to values ($nat$):

\[
\heap \eqdef a\rightharpoonup v, \; where\; a, \;v \in \mathbb{N}
\] 

A heap alone, however, does not allow our example to be implemented. In section \ref{sec:heap_operations} we will discuss the implementation of operations on this heap and their integration into Imp. 

\input{heap_operations}
\input{assertions_heaps}
\input{hoare_triple}
\input{hoare_rules}
\subsection{Frame rule and Rules of Consequence}\todo{Consider revising title}
\input{frame_rule}
\input{rules_of_con}
